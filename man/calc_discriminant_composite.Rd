% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/internal_calc_discriminant_composite.R
\name{calc_discriminant_composite}
\alias{calc_discriminant_composite}
\title{Calculate Discriminant Composite Scores}
\usage{
calc_discriminant_composite(
  data,
  var,
  weight = c("irt", "glm", "pca"),
  outcomes = NULL,
  pred_type = c("glm", "rf"),
  item_type = NULL,
  digits = 3,
  name = NULL,
  alpha = 0.5,
  nfolds = 10,
  ntrees = 100,
  importance = c("permutation", "impurity"),
  family = c("gaussian", "binomial", "multinomial", "poisson"),
  verbose = 0,
  seed = NULL,
  return_metrics
)
}
\arguments{
\item{data}{A dataframe object. This should be a structured dataset where
each column represents a variable and each row represents an observation.}

\item{var}{A required vector of indicator column names.}

\item{weight}{Required weighting schema. Schemas include \code{c("irt",
"glm", "pca")}. Default is \code{"irt"}.}

\item{outcomes}{An optional vector of outcome variable names.}

\item{pred_type}{Prediction method schema for predictive weighting. Schemas
include \code{c("glm", "rf")}. \code{"glm"} runs \code{glmnet::cv.glmnet()}
for regularization linear regression. \code{"rf"} runs
\code{ranger::ranger()} for Random Forest modeling. Default is
\code{"glm"}.}

\item{item_type}{Character string or vector specifying the item response
model(s) to be used, passed to the \code{itemtype} argument in
\code{mirt::mirt()}. See \code{?mirt::mirt} for the full list of supported
item types and their definitions. Defaults to \code{NULL}.}

\item{digits}{The decimal places for the metrics to be rounded to. Default is
3. This argument is only relevant if \code{return_metrics = TRUE}.}

\item{name}{A required string denoting the name of the composite variable.}

\item{alpha}{Elastic net mixing parameter, with \code{0 <= alpha <= 1}.
Controls the relative weighting of L1 (lasso) and L2 (ridge) penalties in
the model. The penalty term is defined as \code{(1 - alpha)/2 * sum(beta^2)
+ alpha * sum(abs(beta))}, where \code{beta} is the vector of coefficients.
When \code{alpha = 1}, the penalty is pure lasso; when \code{alpha = 0}, it
is ridge regression.}

\item{nfolds}{Integer. The number of folds used for random forest k-fold
cross-validation. Controls how the data are partitioned during resampling.
Must be at least 2. Default is 10.}

\item{ntrees}{Integer. Number of trees to grow in the random forest model.
Default in \code{ranger} is 500.}

\item{importance}{Character string specifying the type of variable importance
measure to compute. Must be one of \code{"permutation"} or
\code{"impurity"}.
\itemize{
  \item \code{"permutation"}: Computes mean decrease in predictive accuracy by permuting each variable and measuring the resulting drop in model performance (typically using out-of-bag data). This method is more computationally expensive but generally provides more reliable and differentiated estimates of variable importance. It is robust to scale and less biased in the presence of correlated or irrelevant predictors.
  \item \code{"impurity"}: Computes mean decrease in node impurity (e.g., Gini for classification, variance for regression) aggregated over all trees. This method is fast and computed during model training, but can be biased toward variables with many categories or continuous values, and tends to distribute importance more evenly across predictorsâ€”even when some are irrelevant or redundant.
}
Recommend using \code{"impurity"} for speed and \code{"permutation"} for
interpretability, reliability, or feature selection. Default is
\code{"permutation"}.}

\item{family}{Character string specifying the model family. Must be one of
\code{"gaussian"}, \code{"binomial"}, \code{"multinomial"}, or
\code{"poisson"}. This argument determines the loss function used in
penalized model fitting via \code{cv.glmnet}. The supported options are:
\itemize{
  \item \code{"gaussian"}: for linear regression with continuous outcomes.
  \item \code{"binomial"}: for binary classification using logistic regression. The response should be a factor with two levels or a numeric vector containing 0 and 1.
  \item \code{"multinomial"}: for multi-class classification with three or more unordered outcome categories. The response should be a factor.
  \item \code{"poisson"}: for modeling count data under a Poisson distribution with a log link. The response should be a non-negative count-valued numeric vector.
}
Default is \code{"gaussian"}.}

\item{verbose}{Logical; if \code{1}, print progress messages and intermediate
output. Defaults to \code{0}.}

\item{seed}{An integer seed for reproducibility. Defaults to \code{NULL},
where no seed is set.}

\item{return_metrics}{Logic to determine whether to return reliability and
validity metrics. Set to \code{TRUE} for a list of dataframes with
reliability and validity metrics.}
}
\value{
If \code{return_metrics = FALSE}, an array of the composite score is
  returned. If \code{return_metrics = TRUE}, a list is returned consisting
  of:
\itemize{
 \item \code{composite_score}: An array with the calculated composite
 variable.
 \item \code{composite_metrics}: A matrix loadings and weights
 of the indicators.
 \item \code{composite_validity}: A matrix of composite reliability and
 validity metrics.
}
}
\description{
Calculate the composite score for the discriminant family of
  weighting schemas.
}
\keyword{internal}
